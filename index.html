<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jitsi Integration</title>
    <script src='https://8x8.vc/external_api.js' defer></script>
    <style>
        html, body, #jaas-container {
            height: 100%;
            margin: 0;
        }
    </style>
    <script type="text/javascript">
        window.onload = () => {
            try {
                const api = new JitsiMeetExternalAPI("8x8.vc", {
                    roomName: "vpaas-magic-cookie-4e226c82e25b4794a5637976951f4636/husetimolnet",
                    parentNode: document.querySelector('#jaas-container'),
                    jwt: "eyJhbGciOiJSUzI1NiIsImtpZCI6InZwYWFzLW1hZ2ljLWNvb2tpZS00ZTIyNmM4MmUyNWI0Nzk0YTU2Mzc5NzY5NTFmNDYzNi9iOGEyMjMiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJqaXRzaSIsImlzcyI6ImNoYXQiLCJpYXQiOjE3MzY5OTY0MDAsImV4cCI6MTczNzAwNzIwMCwibmJmIjoxNzM2OTk2NDAwLCJzdWIiOiJ2cGFhcy1tYWdpYy1jb29raWUtNGUyMjZjODJlMjViNDc5NGE1NjM3OTc2OTUxZjQ2MzYiLCJjb250ZXh0Ijp7ImZlYXR1cmVzIjp7ImxpdmVzdHJlYW1pbmciOnRydWUsIm91dGJvdW5kLWNhbGwiOnRydWUsInNpcC1vdXRib3VuZC1jYWxsIjpmYWxzZSwidHJhbnNjcmlwdGlvbiI6dHJ1ZSwicmVjb3JkaW5nIjp0cnVlfSwidXNlciI6eyJoaWRkZW4tZnJvbS1yZWNvcmRlciI6ZmFsc2UsIm1vZGVyYXRvciI6ZmFsc2UsIm5hbWUiOiJqb3NlZmluIiwiaWQiOiJnb29nbGUtb2F1dGgyfDEwMDg5NDE3ODczODMxMTA4MDQyMiIsImF2YXRhciI6IiIsImVtYWlsIjoiam9zZWZpbkB5b21hY28uY29tIn19LCJyb29tIjoiKiJ9.hIlWSXgMpy0w2YfwprWsjlTc8mzBeJy4-dfKP40M8xFSlg7ZarrprT6VX8bFF-sX_GQ9Fs-84NwtMDazzJAfM64SAnS_S4p7f-QapUD1zezS1mh2aQwrvXU_ct9VVNA6V5jnFpzlabkJYGqBeWlGTHdvDQKj2-s9Dlvk5iaWl6JwowIvkr6YYtMDHLUv0MfAPZgfDbt9_vd_CaS8LVi7todSwcA-4zclCvB0kHgaHA8faWGkq1JDvVp1vijAnT4QjkNr1xYt3J0KRMhDIauRRLDcirJBlXhtF0XcxCzlQj6AFJNA0OT77-98AWL94Od184ApOLmFrAf6ViVoRewY6CToRZQk7NKBBC2JPO58qdxzGzcyW9N7KW9wczBys3J9kqXGBb8k9jap-CvnxV8317FXuMbI7ZXC1-I-F-S8uyDXnTWj50nt1NXnp-pKyn9_yGF_aTN04iwZEY0ay_dXNyozXG9FUnHaH51O67bKz7lkcEpDNoZPj-VKY8zw1MBoMJd2ryar7i4PwNGRuLWVGjP-RRrBh10DB-yG3keeXS7IPu--I56wtIlxerf5R9E6R767_7-hVm8YO0AtmuP9bGv4TUE16--VrLXu0VKD5bctOctiiygqpHvybj6hARomMSY91QpbZPulsP5S6fVgalnqUfhDWUXhSM-YSQb9I-w"
                });

                // Event listeners for error handling
                api.addEventListener('videoConferenceJoined', () => {
                    console.log('Conference joined successfully');
                });

                api.addEventListener('videoConferenceFailed', (error) => {
                    console.error('Failed to join conference:', error);
                    alert('Could not join the conference. Please check your room name and try again.');
                });

                api.addEventListener('participantJoined', (participantId) => {
                    console.log(`Participant joined: ${participantId}`);
                });

                api.addEventListener('participantLeft', (participantId) => {
                    console.log(`Participant left: ${participantId}`);
                });

            } catch (error) {
                console.error('Error initializing Jitsi Meet API:', error);
                alert('An error occurred while initializing the Jitsi Meet API. Please try again later.');
            }
        }
    </script>
</head>
<body>
    <div id="jaas-container"></div>
</body>
</html>
