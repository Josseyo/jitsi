<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jitsi Integration</title>
    <script src='https://8x8.vc/external_api.js' defer></script>
    <style>
        html, body, #jaas-container {
            height: 100%;
            margin: 0;
        }
    </style>
    <script type="text/javascript">
        window.onload = () => {
            try {
                const api = new JitsiMeetExternalAPI("8x8.vc", {
                    roomName: "vpaas-magic-cookie-4e226c82e25b4794a5637976951f4636/husetimolnet",
                    parentNode: document.querySelector('#jaas-container'),
                    jwt: "eyJhbGciOiJSUzI1NiIsImtpZCI6InZwYWFzLW1hZ2ljLWNvb2tpZS00ZTIyNmM4MmUyNWI0Nzk0YTU2Mzc5NzY5NTFmNDYzNi9odXNldGltb2xuZXQiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJqaXRzaSIsImNvbnRleHQiOnsidXNlciI6eyJpZCI6InZwYWFzLW1hZ2ljLWNvb2tpZS00ZTIyNmM4MmUyNWI0Nzk0YTU2Mzc5NzY5NTFmNDYzNiIsIm5hbWUiOiJKb3NlZmluIiwiYXZhdGFyIjoiaHR0cHM6Ly9saW5rLnRvL3VzZXIvYXZhdGFyL3BpY3R1cmUiLCJlbWFpbCI6Impvc2VmaW5AeW9tYWNvLmNvbSIsIm1vZGVyYXRvciI6InRydWUifSwiZmVhdHVyZXMiOnsibGl2ZXN0cmVhbWluZyI6InRydWUiLCJyZWNvcmRpbmciOiJ0cnVlIn19LCJleHAiOjE2OTYyODQwNTIsImlzcyI6ImNoYXQiLCJuYmYiOjE1OTYxOTc2NTIsInJvb20iOiJodXNldGltb2xuZXQiLCJzdWIiOiJ2cGFhcy1tYWdpYy1jb29raWUtNGUyMjZjODJlMjViNDc5NGE1NjM3OTc2OTUxZjQ2MzYvYjhhMjIzIn0.QI75e2-KniqTPyP7qZOkFaIXEvFaO7syZOICRAGpslaFGWeXh_J1li4xhPqKir0nKW3002gLmNBbRA_mb4nSK98zxbc2T3CjuYoWTt5Y-u3WgLBJbAIms2ZAlINJrpkLqy2SoyMLAw5dL9_vNxW57gMjiokFZjV_s-iv-kSHBn--5NBveNM1BFb0FA0kp3RgJMSBQUpTxrFAnl8qkKsknpkLx69W-SPgN8OKkvPOCPTxX0Xd2P6Pn9gsK7XoA7pb0SsyQUzRdw90Bc4a8WIM-kC1RdWI6MG2Q7fcirHe0nt6Hdh1CBfmk1kTPBlPU-_jR93LUqaE_fLiMGevaSjup6wyAJl3v_AD-6mc1708xvX65VDHJSPgHN3HlihugP0Rdmt6K3ipjKz_A-9zrft_GRqOOWD8Dpw_T9BQhiOhstPy9eFMeaw3BMKgYBqx9h_JfNM_vo6MrUc_U15MCmi7Uz-zI28n3yI0hrEFsBTf5b8zbnlM-SeLF3u1TYhMR0czd6HlxwypFPwpgLUllPkwoQcNx_P-fTJU5eTaxV0j2agF7qLqVdKLYDaklSCvbYgfc5Xg_AhY9xKgV8NCs7zaCs0c_ZcOXUKm21b-4tvX2tW8_ZsieeLninMKP7rWxct3XoOXeuv3PSkLeCYxgMo1LjFXGZkk5G0CSKYEAoubztk"
                });

                // Event listeners for error handling
                api.addEventListener('videoConferenceJoined', () => {
                    console.log('Conference joined successfully');
                });

                api.addEventListener('videoConferenceFailed', (error) => {
                    console.error('Failed to join conference:', error);
                    alert('Could not join the conference. Please check your room name and try again.');
                });

                api.addEventListener('participantJoined', (participantId) => {
                    console.log(`Participant joined: ${participantId}`);
                });

                api.addEventListener('participantLeft', (participantId) => {
                    console.log(`Participant left: ${participantId}`);
                });

            } catch (error) {
                console.error('Error initializing Jitsi Meet API:', error);
                alert('An error occurred while initializing the Jitsi Meet API. Please try again later.');
            }
        }
    </script>
</head>
<body>
    <div id="jaas-container"></div>
</body>
</html>
